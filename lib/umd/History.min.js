!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):"object"==typeof exports?exports.History=n():t.History=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}n.__esModule=!0;var o=e(6),a=r(o);n.createHistory=a["default"];var i=e(7),u=r(i);n.createHashHistory=u["default"];var s=e(8),c=r(s);n.createMemoryHistory=c["default"];var f=e(2),d=r(f);n.createLocation=d["default"];var l=e(1),v=r(l);n.Actions=v["default"]},function(t,n){"use strict";n.__esModule=!0;var e="PUSH";n.PUSH=e;var r="REPLACE";n.REPLACE=r;var o="POP";n.POP=o,n["default"]={PUSH:e,REPLACE:r,POP:o}},function(t,n,e){"use strict";function r(){var t,n,e=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],r=arguments.length<=1||void 0===arguments[1]?null:arguments[1],a=arguments.length<=2||void 0===arguments[2]?o.POP:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3],u=e.indexOf("?");return-1!==u?(t=e.substring(0,u),n=e.substring(u)):(t=e,n=""),""===t&&(t="/"),{pathname:t,search:n,state:r,action:a,key:i}}n.__esModule=!0;var o=e(1);n["default"]=r,t.exports=n["default"]},function(t,n){"use strict";function e(t,n,e){t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent("on"+n,e)}function r(t,n,e){t.removeEventListener?t.removeEventListener(n,e,!1):t.detachEvent("on"+n,e)}function o(){return window.location.href.split("#")[1]||""}function a(t){window.location.replace(window.location.pathname+window.location.search+"#"+t)}function i(){return window.location.pathname+window.location.search}function u(t,n){window.sessionStorage.setItem(t,JSON.stringify(n))}function s(t){var n=window.sessionStorage.getItem(t);if(n)try{return JSON.parse(n)}catch(e){}return null}function c(t){t&&window.history.go(t)}function f(){var t=navigator.userAgent;return-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}n.__esModule=!0,n.addEventListener=e,n.removeEventListener=r,n.getHashPath=o,n.replaceHashPath=a,n.getWindowPath=i,n.saveState=u,n.readState=s,n.go=c,n.supportsHistory=f;var d=!("undefined"==typeof window||!window.document||!window.document.createElement);n.canUseDOM=d},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,n){n(window.confirm(t))}function a(t){function n(t){var n=e();return"string"==typeof n?((t||window.event).returnValue=n,n):void 0}var e=t.getTransitionConfirmationMessage;return s.addEventListener(window,"beforeunload",n),function(){s.removeEventListener(window,"beforeunload",n)}}function i(t){function n(t){var n=r.listen(t);return i+=1,1===i&&(e=a(r)),function(){n(),i-=1,0===i&&e()}}var e,r=f["default"](u({getUserConfirmation:o},t,{saveState:s.saveState,readState:s.readState,go:s.go})),i=0;return u({},r,{listen:n})}n.__esModule=!0;var u=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},s=e(3),c=e(5),f=r(c);n["default"]=i,t.exports=n["default"]},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return Math.random().toString(36).substr(2,t)}function a(){function t(t){m=t,S.forEach(function(t){t(m)})}function n(t){S.push(t)}function e(t){S=S.filter(function(n){return n!==t})}function r(r){return n(r),m?r(m):t(O()),function(){e(r)}}function a(t){-1===E.indexOf(t)&&E.push(t)}function u(t){E=E.filter(function(n){return n!==t})}function f(){for(var t=null,n=0,e=E.length;e>n&&"string"!=typeof t;++n)t=E[n].call(this);return t}function d(t){var n;H&&(n=f())?H(n,function(n){t(n!==!1)}):t(!0)}function l(n){y=n,d(function(e){y===n&&(e?(_(n),t(n)):x&&x(n))})}function v(t,n){l(s["default"](n,t,i.PUSH,w()))}function g(t,n){l(s["default"](n,t,i.REPLACE,w()))}function h(){b(-1)}function p(){b(1)}function w(){return o(L)}var m,y,P=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],E=[],S=[],O=P.getCurrentLocation,_=P.finishTransition,x=P.cancelTransition,b=P.go,L=P.keyLength,H=P.getUserConfirmation;return"number"!=typeof L&&(L=c),{listen:r,registerTransitionHook:a,unregisterTransitionHook:u,getTransitionConfirmationMessage:f,transitionTo:l,pushState:v,replaceState:g,go:b,goBack:h,goForward:p,createKey:w}}n.__esModule=!0;var i=e(1),u=e(2),s=r(u),c=6;n["default"]=a,t.exports=n["default"]},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){t=t||window.history.state||{};var n=t.key,e=n&&d.readState(n),r=d.getWindowPath();return h["default"](r,e,void 0,n)}function a(t){function n(t){return void 0!==t.state?p?void(p=!1):void e(o(t.state)):void 0}var e=t.transitionTo;return d.addEventListener(window,"popstate",n),function(){d.removeEventListener(window,"popstate",n)}}function i(t){var n=t.key,e=t.pathname,r=t.search,o=e+r,a={key:n};switch(t.action){case f.PUSH:d.saveState(t.key,t.state),window.history.pushState(a,null,o);break;case f.REPLACE:d.saveState(t.key,t.state),window.history.replaceState(a,null,o)}}function u(t){if(t.action===f.POP){var n=0;n&&(p=!0,d.go(n))}}function s(t){function n(t){1===++s&&(e=a(r));var n=r.listen(t);return function(){n(),0===--s&&e()}}var e,r=v["default"](c({},t,{getCurrentLocation:o,finishTransition:i,cancelTransition:u})),s=0;return c({},r,{listen:n})}n.__esModule=!0;var c=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},f=e(1),d=e(3),l=e(4),v=r(l),g=e(2),h=r(g),p=!1;n["default"]=s,t.exports=n["default"]},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return"string"==typeof t&&"/"===t.charAt(0)}function a(){var t=g.getHashPath();return o(t)?!0:(g.replaceHashPath("/"+t),!1)}function i(t,n,e){return t+(-1===t.indexOf("?")?"?":"&")+(n+"="+e)}function u(t,n){return t.replace(new RegExp("[?&]?"+n+"=[a-zA-Z0-9]+"),"")}function s(t,n){var e=t.match(new RegExp("\\?.*?\\b"+n+"=(.+?)\\b"));return e&&e[1]}function c(){function t(){var t,n,e=g.getHashPath();return d&&(t=s(e,d),e=u(e,d),n=t&&g.readState(t)),m["default"](e,n,void 0,t)}function n(n){function e(){var n=g.getHashPath();if(a()&&h!==n)return h=n,P?void(P=!1):void r(t())}var r=n.transitionTo;return a(),g.addEventListener(window,"hashchange",e),function(){g.removeEventListener(window,"hashchange",e)}}function e(t){var n=t.key,e=t.pathname,r=t.search,o=e+r;d&&(o=i(o,d,n));var a=o!==g.getHashPath();switch(l["default"](a,"You cannot push/replace the same path using hash history"),t.action){case v.PUSH:a&&(P=!0,d&&g.saveState(t.key,t.state),window.location.hash=o);break;case v.REPLACE:a&&(P=!0,d&&g.saveState(t.key,t.state),g.replaceHashPath(o))}}function r(t){if(t.action===v.POP){var n=0;n&&(P=!0,g.go(n))}}function o(t){1===++S&&(w=n(E));var e=E.listen(t);return function(){e(),0===--S&&w()}}var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=c.queryKey;(void 0===d||d)&&(d="string"==typeof d?d:y);var h,w,P=!1,E=p["default"](f({},c,{getCurrentLocation:t,finishTransition:e,cancelTransition:r})),S=0;return f({},E,{listen:o})}n.__esModule=!0;var f=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},d=e(10),l=r(d),v=e(1),g=e(3),h=e(4),p=r(h),w=e(2),m=r(w),y="_k";n["default"]=c,t.exports=n["default"]},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return t.filter(function(t){return t.state}).reduce(function(t,n){return t[n.key]=n.state,t},{})}function a(){function t(t,n){w[t]=n}function n(t){return w[t]}function e(){var t=h[p],e=t.key,r=t.pathname,o=t.search,a=r+(o||""),i=n(e);return d["default"](a,i,void 0,e)}function r(t){var n=p+t;return n>=0&&n<h.length}function a(t){if(t){s["default"](r(t),"Cannot go(%s); there is not enough history",t),p+=t;var n=e();g.transitionTo(i({},n,{action:c.POP}))}}function u(n){switch(n.action){case c.PUSH:p+=1,h.push(n),t(n.key,n.state);break;case c.REPLACE:h[p]=n,t(n.key,n.state)}}function f(t){if(t.action===c.POP){var n=0;p+=n}}var l=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(l)?l={entries:l}:"string"==typeof l&&(l={entries:[l]});var g=v["default"](i({},l,{getCurrentLocation:e,saveState:t,readState:n,finishTransition:u,cancelTransition:f,go:a})),h=l.entries,p=l.current;"string"==typeof h?h=[h]:Array.isArray(h)||(h=["/"]),h=h.map(function(t){var n=g.createKey();return"string"==typeof t?{pathname:t,key:n}:"object"==typeof t&&t?i({},t,{key:n}):void s["default"](!1,"Unable to create history entry from %s",t)}),null==p?p=h.length-1:s["default"](p>=0&&p<h.length,"Current index must be >= 0 and < %s, was %s",h.length,p);var w=o(h);return g}n.__esModule=!0;var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},u=e(9),s=r(u),c=e(1),f=e(2),d=r(f),l=e(5),v=r(l);n["default"]=a,t.exports=n["default"]},function(t,n,e){"use strict";var r=function(t,n,e,r,o,a,i,u){if(!t){var s;if(void 0===n)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[e,r,o,a,i,u],f=0;s=new Error("Invariant Violation: "+n.replace(/%s/g,function(){return c[f++]}))}throw s.framesToPop=1,s}};t.exports=r},function(t,n,e){"use strict";var r=function(){};t.exports=r}])});