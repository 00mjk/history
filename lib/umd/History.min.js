!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.History=e():t.History=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(9),a=r(o);e.createHistory=a["default"];var i=n(10),u=r(i);e.createHashHistory=u["default"];var s=n(11),c=r(s);e.createMemoryHistory=c["default"];var f=n(2),l=r(f);e.createLocation=l["default"];var d=n(1),p=r(d);e.Actions=p["default"]},function(t,e){"use strict";e.__esModule=!0;var n="PUSH";e.PUSH=n;var r="REPLACE";e.REPLACE=r;var o="POP";e.POP=o,e["default"]={PUSH:n,REPLACE:r,POP:o}},function(t,e,n){"use strict";function r(){var t,e,n=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],r=arguments.length<=1||void 0===arguments[1]?null:arguments[1],a=arguments.length<=2||void 0===arguments[2]?o.POP:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3],u=n.indexOf("?");return-1!==u?(t=n.substring(0,u),e=n.substring(u)):(t=n,e=""),""===t&&(t="/"),{pathname:t,search:e,state:r,action:a,key:i}}e.__esModule=!0;var o=n(1);e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";var r=function(t,e,n,r,o,a,i,u){if(!t){var s;if(void 0===e)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,i,u],f=0;s=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return c[f++]}))}throw s.framesToPop=1,s}};t.exports=r},function(t,e){"use strict";function n(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function r(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function o(){return window.location.href.split("#")[1]||""}function a(t){window.location.replace(window.location.pathname+window.location.search+"#"+t)}function i(){return window.location.pathname+window.location.search}function u(t){t&&window.history.go(t)}function s(){var t=navigator.userAgent;return-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}function c(){var t=navigator.userAgent;return-1===t.indexOf("Firefox")}e.__esModule=!0,e.addEventListener=n,e.removeEventListener=r,e.getHashPath=o,e.replaceHashPath=a,e.getWindowPath=i,e.go=u,e.supportsHistory=s,e.supportsGoWithoutReloadUsingHash=c},function(t,e){"use strict";e.__esModule=!0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);e.canUseDOM=n},function(t,e){"use strict";function n(t){return a+t}function r(t,e){window.sessionStorage.setItem(n(t),JSON.stringify(e))}function o(t){var e=window.sessionStorage.getItem(n(t));if(e)try{return JSON.parse(e)}catch(r){}return null}e.__esModule=!0,e.saveState=r,e.readState=o;var a="@@History/"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){e(window.confirm(t))}function a(t){function e(t){var e=n();return"string"==typeof e?((t||window.event).returnValue=e,e):void 0}var n=t.getTransitionConfirmationMessage;return l.addEventListener(window,"beforeunload",e),function(){l.removeEventListener(window,"beforeunload",e)}}function i(t){function e(t){c["default"](f.canUseDOM,"DOM history needs a DOM"),1===++i&&(n=a(r));var e=r.listen(t);return function(){e(),0===--i&&n()}}var n,r=p["default"](u({getUserConfirmation:o},t,{go:l.go})),i=0;return u({},r,{listen:e})}e.__esModule=!0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(3),c=r(s),f=n(5),l=n(4),d=n(8),p=r(d);e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return Math.random().toString(36).substr(2,t)}function a(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.key===e.key&&l["default"](t.state,e.state)}function i(){function t(t){A=t,U.forEach(function(t){t(A)})}function e(t){U.push(t)}function n(t){U=U.filter(function(e){return e!==t})}function r(r){return e(r),A?r(A):t(x()),function(){n(r)}}function i(t){-1===C.indexOf(t)&&C.push(t)}function s(t){C=C.filter(function(e){return e!==t})}function f(){for(var t=null,e=0,n=C.length;n>e&&null==t;++e)t=C[e].call(this);return t}function l(t){var e=f();L&&"string"==typeof e?L(e,function(e){t(e!==!1)}):t(e!==!1)}function p(e){A&&a(A,e)||(c["default"](null==T,"transitionTo: Another transition is already in progress"),T=e,l(function(n){T=null,n?(H(e),t(e)):E&&E(e)}))}function v(t,e){p(h["default"](e,t,d.PUSH,b()))}function y(t,e){p(h["default"](e,t,d.REPLACE,b()))}function m(e){A?(w(A,e),t(A)):w(x(),e)}function w(t,e){t.state=u({},t.state,e),M(t.key,t.state)}function O(){j(-1)}function P(){j(1)}function b(){return o(k)}function S(t){return t}var _=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],x=_.getCurrentLocation,H=_.finishTransition,E=_.cancelTransition,M=_.saveState,j=_.go,k=_.keyLength,L=_.getUserConfirmation;"number"!=typeof k&&(k=g);var A,T,C=[],U=[];return{listen:r,registerTransitionHook:i,unregisterTransitionHook:s,getTransitionConfirmationMessage:f,transitionTo:p,pushState:v,replaceState:y,setState:m,go:j,goBack:O,goForward:P,createKey:b,createHref:S}}e.__esModule=!0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(3),c=r(s),f=n(12),l=r(f),d=n(1),p=n(2),h=r(p),g=6;e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){function e(t){t=t||window.history.state||{};var e,n=f.getWindowPath(),r=t,o=r.key;return o?e=l.readState(o):(e=null,o=v.createKey(),window.history.replaceState(a({},t,{key:o}),n)),g["default"](n,e,void 0,o)}function n(t){function n(t){void 0!==t.state&&r(e(t.state))}var r=t.transitionTo;return f.addEventListener(window,"popstate",n),function(){f.removeEventListener(window,"popstate",n)}}function r(t){var e=t.pathname,n=t.search,r=t.state,o=t.action,a=t.key;if(o!==s.POP){l.saveState(a,r);var i=e+n,u={key:a};o===s.PUSH?h?window.history.pushState(u,null,i):window.location.href=i:h?window.history.replaceState(u,null,i):window.location.replace(i)}}function o(t){if(t.action===s.POP){var e=0;f.go(e)}}function i(t){var e=v.listen(t);return 1===++y&&(d=n(v)),function(){0===--y&&d(),e()}}u["default"](c.canUseDOM,"Browser history needs a DOM");var d,h=f.supportsHistory(),v=p["default"](a({},t,{getCurrentLocation:e,finishTransition:r,cancelTransition:o,saveState:l.saveState})),y=0;return a({},v,{listen:i})}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(3),u=r(i),s=n(1),c=n(5),f=n(4),l=n(6),d=n(7),p=r(d),h=n(2),g=r(h);e["default"]=o,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return"string"==typeof t&&"/"===t.charAt(0)}function a(){var t=y.getHashPath();return o(t)?!0:(y.replaceHashPath("/"+t),!1)}function i(t,e,n){return t+(-1===t.indexOf("?")?"?":"&")+(e+"="+n)}function u(t,e){return t.replace(new RegExp("[?&]?"+e+"=[a-zA-Z0-9]+"),"")}function s(t,e){var n=t.match(new RegExp("\\?.*?\\b"+e+"=(.+?)\\b"));return n&&n[1]}function c(){function t(){var t,e,n=y.getHashPath();return _&&(t=s(n,_),n=u(n,_),t?e=m.readState(t):(e=null,t=H.createKey(),y.replaceHashPath(i(n,_,t)))),b["default"](n,e,void 0,t)}function e(e){function n(){a()&&r(t())}var r=e.transitionTo;return a(),y.addEventListener(window,"hashchange",n),function(){y.removeEventListener(window,"hashchange",n)}}function n(t){var e=t.pathname,n=t.search,r=t.state,o=t.action,a=t.key;if(o!==g.POP){var u=e+n;_&&(u=i(u,_,a)),u===y.getHashPath()?d["default"](!1,"You cannot %s the same path using hash history",o):(_?m.saveState(a,r):t.key=t.state=null,o===g.PUSH?window.location.hash=u:y.replaceHashPath(u))}}function r(t){if(t.action===g.POP){var e=0;p(e)}}function o(t){var n=H.listen(t);return 1===++E&&(x=e(H)),function(){0===--E&&x(),n()}}function c(t,e){d["default"](_||null==t,"You cannot use state without a queryKey; it will be dropped"),H.pushState(t,e)}function l(t,e){d["default"](_||null==t,"You cannot use state without a queryKey; it will be dropped"),H.replaceState(t,e)}function p(t){d["default"](M,"Hash history go(n) causes a full page reload in this browser"),H.go(t)}function w(t){return"#"+H.createHref(t)}var P=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];h["default"](v.canUseDOM,"Hash history needs a DOM");var _=P.queryKey;(void 0===_||_)&&(_="string"==typeof _?_:S);var x,H=O["default"](f({},P,{getCurrentLocation:t,finishTransition:n,cancelTransition:r,saveState:m.saveState})),E=0,M=y.supportsGoWithoutReloadUsingHash();return f({},H,{listen:o,pushState:c,replaceState:l,go:p,createHref:w})}e.__esModule=!0;var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=n(15),d=r(l),p=n(3),h=r(p),g=n(1),v=n(5),y=n(4),m=n(6),w=n(7),O=r(w),P=n(2),b=r(P),S="_k";e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return t.filter(function(t){return t.state}).reduce(function(t,e){return t[e.key]=e.state,t},{})}function a(){function t(t,e){m[t]=e}function e(t){return m[t]}function n(){var t,n=v[y],r=n.key,o=n.pathname,a=n.search,i=o+(a||"");return r?t=e(r):(t=null,r=h.createKey(),n.key=r),l["default"](i,t,void 0,r)}function r(t){var e=y+t;return e>=0&&e<v.length}function a(t){if(t){s["default"](r(t),"Cannot go(%s); there is not enough history",t),y+=t;var e=n();h.transitionTo(i({},e,{action:c.POP}))}}function u(e){switch(e.action){case c.PUSH:y+=1,y<v.length-1&&v.splice(y),v.push(e),t(e.key,e.state);break;case c.REPLACE:v[y]=e,t(e.key,e.state)}}function f(t){if(t.action===c.POP){var e=0;y+=e}}var d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(d)?d={entries:d}:"string"==typeof d&&(d={entries:[d]});var h=p["default"](i({},d,{getCurrentLocation:n,finishTransition:u,cancelTransition:f,saveState:t,go:a})),g=d,v=g.entries,y=g.current;"string"==typeof v?v=[v]:Array.isArray(v)||(v=["/"]),v=v.map(function(t){var e=h.createKey();return"string"==typeof t?{pathname:t,key:e}:"object"==typeof t&&t?i({},t,{key:e}):void s["default"](!1,"Unable to create history entry from %s",t)}),null==y?y=v.length-1:s["default"](y>=0&&y<v.length,"Current index must be >= 0 and < %s, was %s",v.length,y);var m=o(v);return h}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(3),s=r(u),c=n(1),f=n(2),l=r(f),d=n(8),p=r(d);e["default"]=a,t.exports=e["default"]},function(t,e,n){function r(t){return null===t||void 0===t}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length?"function"!=typeof t.copy||"function"!=typeof t.slice?!1:t.length>0&&"number"!=typeof t[0]?!1:!0:!1}function a(t,e,n){var a,f;if(r(t)||r(e))return!1;if(t.prototype!==e.prototype)return!1;if(s(t))return s(e)?(t=i.call(t),e=i.call(e),c(t,e,n)):!1;if(o(t)){if(!o(e))return!1;if(t.length!==e.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==e[a])return!1;return!0}try{var l=u(t),d=u(e)}catch(p){return!1}if(l.length!=d.length)return!1;for(l.sort(),d.sort(),a=l.length-1;a>=0;a--)if(l[a]!=d[a])return!1;for(a=l.length-1;a>=0;a--)if(f=l[a],!c(t[f],e[f],n))return!1;return typeof t==typeof e}var i=Array.prototype.slice,u=n(14),s=n(13),c=t.exports=function(t,e,n){return n||(n={}),t===e?!0:t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:a(t,e,n)}},function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=o?n:r,e.supported=n,e.unsupported=r},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"==typeof Object.keys?Object.keys:n,e.shim=n},function(t,e,n){"use strict";var r=function(){};t.exports=r}])});